<!DOCTYPE html>
<html>
  <head>
    <title>Leaps.js Sample</title>
    <script src='http://code.jquery.com/jquery-1.11.3.min.js'></script>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js'></script>
    <script src='./out/leaps-model.js'></script>
    <script src='./out/sample-model.js'></script>
    <script>
      $(function(){
        var user = new SampleUserModel({name: "soplana", age: 30});
        user.admin = true
        user.save() //=> true

        // 全件取得
        console.log( SampleUserModel.all() )   // [SampleUserModel]

        // id指定で検索
        console.log( SampleUserModel.find(1) ) // SampleUserModel {name: "soplana", age: 30, admin: true, id: 1}

        // アップデート
        var user = SampleUserModel.find(1)
        user.name = "fugafuga"
        user.save() //=> true
        console.log( SampleUserModel.find(1) ) // SampleUserModel {name: "fugafuga", age: 30, admin: true, id: 1}


        // delete
        console.log("delete------------")
        _.each([1,2,3,4,5], function(i){
          new SampleUserModel({name: "azunyan", age: i*10}).save()
        })
        var user = SampleUserModel.find(3)
        console.log( user.destroy() ) //=> true
        console.log( SampleUserModel.all() ) // null
        console.log( SampleUserModel.find(3) ) // null

        var user = new SampleUserModel({name: "hoge", age: 32});
        console.log( user.destroy() ) //=> false

        // where
        console.log("where------------")
        var users = SampleUserModel.where({age: 30})
        console.log( users )
        console.log( users.length )
        console.log( SampleUserModel.where({name: "azunyan", age: 30}) )

      })
    </script>
  </head>
  <body></body>
</html>
